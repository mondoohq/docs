---
title: Install cnspec on macOS
sidebar_label: macOS
sidebar_position: 4
displayed_sidebar: cnspec
description: This page provides details on installing and configuring cnspec on macOS.
image: /img/featured_img/mondoo-feature.jpg
---

:::info
The environment variable `MONDOO_REGISTRATION_TOKEN` allows you to pass a registration token to the installation package. If provided, the client will register automatically during the installation.
:::

import Partial from "./_providers-note.mdx";

<Partial />{" "}

## Install using the automated install script

The Mondoo automated installation script installs the mondoo package using either the [Homebrew](https://brew.sh) package manager or a `.pkg` installer if Homebrew is unavailable.

```bash
# export MONDOO_REGISTRATION_TOKEN="<YOUR_TOKEN_HERE>"
bash -c "$(curl -sSL https://install.mondoo.com/sh)"
```

## Install directly via Homebrew

Mondoo supports installation using the [Homebrew](https://brew.sh) package manager on macOS.

```bash title="Add the Mondoo tap"
brew tap mondoohq/mondoo
```

```bash title="Install mondoo package with brew"
brew install mondoo
```

```bash title="Upgrade mondoo package with brew"
brew upgrade mondoo
```

## Install using the universal binary package

Mondoo releases a signed and notarized universal binary package (`.pkg`) for Intel & ARM (M1/M2) platforms available at [releases.mondoo.com](https://releases.mondoo.com/mondoo/latest) that installs cnspec on hosts.

Additionally, the package installs, but does not start or enable, a `launchd` configuration for running cnspec continuously as a service for endpoint security. This package is ideal for deployment by MDM solutions.

For more information on running Mondoo as a service on macOS, see [Running Mondoo as a service](/cnspec/cnspec-adv-install/service).

To install the PKG non-interactively use the _installer_ utility in a Terminal:

```bash
installer -pkg ./mondoo_(version)_darwin_universal.pkg -target /Library
```

## Mitigate hostname changes

Sometimes when changing locations and networks, macOS devices can change their hostnames. When this happens, you see two or more entries for the same workstation in the Mondoo Console. To mitigate this problem, open the Mondoo configuration file located at ~/.config/mondoo/mondoo.yml and add this line:

```yaml
id-detector: machine-id
```

## Learn more

- [Register cnspec](/cnspec/cnspec-adv-install/registration)
- [Run cnspec as a service](/cnspec/cnspec-adv-install/service)

---
