### Set up keyless authentication with GCP

#### Prerequisites

- Sufficient GCP privileges to create and manage service accounts

- Editor or Owner privileges in the Mondoo space to which your workload needs access

#### Prepare your GCP environment for WIF

1. Create a GCP Service Account. To learn how, read [Create service accounts](https://cloud.google.com/iam/docs/service-accounts-create).

2. Go the **Service account details** page and note the service accountâ€™s unique ID. You need this value when you configure the workload identity provider.

3. Assign the managed identity to a virtual machine or another resource where your workload runs. To learn how, read [Create a VM and attach the service account](https://cloud.google.com/compute/docs/access/create-enable-service-accounts-for-instances#using).

#### Create an identity provider in Mondoo

To create an HCP workload identity provider for GCP, you must provide the following configuration values:

The unique ID of the GCP service account you created

1. [Navigate](/platform/start/navigate/) to the space in which you want to set up keyless access for non-human users.

2. In the left navigation, select **Settings**. Then select the **Identity Providers** tab.

   Screenshot to come.

3. Select the **ADD IDENTITY PROVIDER** button or the plus (+) symbol near the top-right corner of the tab.

   Screenshot to come.

4. Select **Google**.

   Screenshot to come.

5. In the **Issuer URL** box, keep the default `https://accounts.google.com`.

6. In the **Subject** box, enter the unique ID of the GCP server account you created in the previous instructions.

7. In the **Expiration time** list, choose the duration of sessions authenticated with this WIF provider.

8. In the **Name** and **Description** boxes, provide a short name and longer description that help you and your teammates recognize the source and purpose of the identity provider.

9. Select the **ADD IDENTITY PROVIDER** button.

   Screenshot to come.

   Mondoo establishes a trust relationship with GCP for WIF authentication. It generates and displays the configuration parameters that your workload needs to use this identity provider to authenticate with Mondoo. You can use that information on your command line, in automation scripts, or however you want your workload to access your Mondoo space data.

Hey VJ, is that enough or should we walk through an example maybe?
